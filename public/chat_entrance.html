<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>채팅</title>
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
</head>
<body>
 	<header class="header">
 	</header>
	<section>
		<div class="container">
			<h1>움집</h1>
			<a href="chat_entrance.html"><h1>채팅</h1></a>
    		<form action="/chat.html" method="post" id="createId">
      			<input autocomplete="off" name="id" placeholder="채팅방에서 쓸 아이디를 입력해주세요" />
      			<button type="submit" form="createId">입장</button>
    		</form>
		</div>
	</section>
	<footer>
	</footer>

	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>
	<script src="/scripts/app.js"></script>
	<script src="/service-worker.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.1/socket.io.js"></script>
	<script>
		$(() => {
	    	const socket = io();
	    	$('form').submit(() => {
	    		socket.emit('chat message', $('#m').val());
	    		$('#m').val('');
	    		return false;
	    	});
	    	socket.on('chat message', msg => {
	    		$('#messages').append($('<li>').text(msg));
	    	});
		});
	</script>
</body>
</html>
